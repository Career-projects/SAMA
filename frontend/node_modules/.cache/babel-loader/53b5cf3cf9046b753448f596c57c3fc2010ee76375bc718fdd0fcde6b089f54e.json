{"ast":null,"code":"import React,{useState}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[userInput,setUserInput]=useState(\"\");const[chatLog,setChatLog]=useState([]);const[loading,setLoading]=useState(false);const handleSend=async()=>{if(!userInput.trim())return;const newChatLog=[...chatLog,{role:\"user\",content:userInput}];setChatLog(newChatLog);setUserInput(\"\");setLoading(true);try{const response=await fetch(\"http://localhost:8000/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({messages:newChatLog})});const data=await response.json();const botReply={role:\"assistant\",content:data.response||\"❌ لا يوجد رد\"};setChatLog([...newChatLog,botReply]);}catch(error){console.error(\"Error:\",error);const errorMsg={role:\"assistant\",content:\"❌ حصل خطأ أثناء الاتصال بالخادم.\"};setChatLog([...newChatLog,errorMsg]);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" \\u0633\\u064E\\u0645\\u064E\\u0649\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-box\",children:[chatLog.map((msg,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"message \".concat(msg.role),children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.role===\"user\"?\"أنت\":\"سَمَى\",\":\"]}),\" \",msg.content]},idx)),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"message assistant\",children:\"\\u0633\\u064E\\u0645\\u064E\\u0649: ...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userInput,onChange:e=>setUserInput(e.target.value),placeholder:\"\\u0627\\u0643\\u062A\\u0628 \\u0631\\u0633\\u0627\\u0644\\u062A\\u0643 \\u0647\\u0646\\u0627...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,children:\"\\u0625\\u0631\\u0633\\u0627\\u0644\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","userInput","setUserInput","chatLog","setChatLog","loading","setLoading","handleSend","trim","newChatLog","role","content","response","fetch","method","headers","body","JSON","stringify","messages","data","json","botReply","error","console","errorMsg","className","children","map","msg","idx","concat","type","value","onChange","e","target","placeholder","onClick"],"sources":["/Users/hessa/Desktop/SAMA/ChatBot/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [userInput, setUserInput] = useState(\"\");\n  const [chatLog, setChatLog] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleSend = async () => {\n    if (!userInput.trim()) return;\n\n    const newChatLog = [...chatLog, { role: \"user\", content: userInput }];\n    setChatLog(newChatLog);\n    setUserInput(\"\");\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"http://localhost:8000/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ messages: newChatLog }),\n      });\n\n      const data = await response.json();\n      const botReply = { role: \"assistant\", content: data.response || \"❌ لا يوجد رد\" };\n\n      setChatLog([...newChatLog, botReply]);\n    } catch (error) {\n      console.error(\"Error:\", error);\n      const errorMsg = { role: \"assistant\", content: \"❌ حصل خطأ أثناء الاتصال بالخادم.\" };\n      setChatLog([...newChatLog, errorMsg]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h2> سَمَى</h2>\n      <div className=\"chat-box\">\n        {chatLog.map((msg, idx) => (\n          <div key={idx} className={`message ${msg.role}`}>\n            <strong>{msg.role === \"user\" ? \"أنت\" : \"سَمَى\"}:</strong> {msg.content}\n          </div>\n        ))}\n        {loading && <div className=\"message assistant\">سَمَى: ...</div>}\n      </div>\n\n      <div className=\"input-section\">\n        <input\n          type=\"text\"\n          value={userInput}\n          onChange={(e) => setUserInput(e.target.value)}\n          placeholder=\"اكتب رسالتك هنا...\"\n        />\n        <button onClick={handleSend}>إرسال</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}